<html>
<head>
<title>Importing and Exporting Projects</title>
</head>
<body bgcolor="#ffffee">
<h1>Importing and Exporting Projects</h1>
<p>
You can import and export Gap4 databases using Minerva.  Choose a project
in the project table and then select the <strong>Project</strong> menu:
</p>
<center>
<img src="screenshots/importexport1.png" />
</center>
<p>
Minerva offers you the option of importing the project from its Gap4
database or of exporting the project to a new Gap4 database.
</p>
<h2>How does importing and exporting via Minerva work?</h2>
<p>
Whether you are importing or exporting, Minerva knows which repository
directory is home to your project.  It will use that directory when
reading or writing Gap4 databases.
</p>
<p>
When you import a project, Minerva runs the project import script on
one of the machines in the <code>seq1</code> cluster.  The script
looks for the version zero Gap4 database.  The version zero database
is backed up to version B, then the version zero database is imported
into Arcturus.
</p>
<p>
When you export a project, Minerva runs the project export script on
one of the machines in the <code>seq1</code> cluster.  The script
creates a version A Gap4 database which contains all of the contigs
in the Arcturus version of the project.
</p>
<p>
The project export script also removes the version zero Gap4 database,
if one exists.  Remember that the import script backs up your version
zero database to version B, so you still have a copy of your version
zero if you need it.
</p>
<h2>When should I import or export a project?</h2>
<p>
You should <strong>import</strong> a project whenever you want to
save changes that you have made to your version zero Gap4 database.
</p>
<p>
If you don't import, Arcturus will not know about new contigs in
your version zero Gap4 database.
</p>
<p>
You should <strong>export</strong> a project when you want to update
your Gap4 database to include changes that you have made using Minerva.
These include contig transfers and new reads which you have added to your
project using Minerva.
</p>
<p>
If you don't export, your Gap4 database will not contain the changes
that you have made using Minerva.
</p>
<h2>When should I request contig transfers?</h2>
<p>
You should always import your Gap4 database into Arcturus <strong>before</strong>
you submit any contig transfer requests.  That way, Arcturus will identify
the <strong>correct</strong> contigs to transfer.
</p>
<p>
If you have made changes to the contigs in your Gap4 database,
and you submit a contig transfer request without first importing
the Gap4 database, Arcturus may mis-identify the contig that you
want to transfer.  When you later try to approve or execute the
request, Arcturus may flag the request as failed, because it cannot
find a valid contig to transfer.
</p>
<h2>What about locked projects?</h2>
<p>
Arcturus allows you to lock your projects.  This prevents anyone else
from changing its contents.  It is impossible to transfer a contig into
or out of a locked project.  You can think of a project lock as Arcturus's
equivalent to a Gap4 BUSY file.
</p>
<p>
Arcturus will automatically lock a project when you export it.
</p>
<p>
You can import a project if you hold the lock on it.  You will still
hold the lock after the import has finished.
</p>
<p>
If you need to relinquish the lock on a project, you can do this using
Minerva.  In the project table view, right-click on the project and
select <strong>Unlock [PROJECT]</strong> from the popup menu.  You
will need to do this before you try to exeute any contig transfers
into or out of the locked project.
</p>
<h2>What does a project import look like?</h2>
<p>
When you use Minerva to import a project, you will first be asked to
confirm whether you really want to import the project.  If you answer
yes, a new window appears on the screen:
</p>
<center>
<img src="screenshots/importexport2.png" />
</center>
<p>
This window shows you the output messages from the project import script.
The status bar at the bottom of the window indicates the elapsed time
and a progress bar shows that the import is ongoing.
</p>
<p>
Some of the messages from the import script appear in black, and some
appear in red.  It's quite normal to see a mixture of black messages
and red messages.
</p>
<p>
When the script has finished running, the message in the status bar
changes, the progress bar becomes a solid blue colour, and the
<strong>Close</strong> button becomes active:
</p>
<center>
<img src="screenshots/importexport3.png" />
</center>
<h2>What does a project export look like?</h2>
<p>
When you use Minerva to export a project, the sequence of events is
almost identical to importing a project.  You will be asked to confirm
whether you really want to export a project, and then a new window
appears which shows the output messages from the project export
script:
</p>
<center>
<img src="screenshots/importexport4.png" />
</center>

<hr />
[<a href="contigtransfer.html">PREV: Contig Transfers</a>]
<!-- [<a href="importreads.html">NEXT: The Read Importer</a>] -->
[<a href="index.html">HOME: Back to the first page</a>]
<hr />
</body>
</html>

<%= stylesheet_link_tag "table_rows", :media => "all" %>

<h1>Contigs for <%=h @project.name %>  </h1>

<table cellpadding="3">
  <tr>
    <th align="left">ID</th>
    <th align="left">Gap4 name</th>
    <th align="right">Length</th>
    <th align="right">No. of reads</th>
    <th align="center">Created</th>
    <th align="center">Last updated</th>
    <th align="center" colspan="2">Actions</th>
  </tr>

<% @contigs = @project.current_contig_list %>

<% @row_number = 0 %>

<% @contigs.each do |@contig| %>
<% 
  @row_number += 1
  @style = (@row_number % 2 == 0) ? "table_row_even" : "table_row_odd"
%>

  <tr class="<%= @style %>">
    <td>
      <%=h @contig['contig_id'] %>
    </td>

    <td>
      <%=h @contig['gap4name'] %>
    </td>

    <td align="right">
      <%=h @contig['basepairs'] %>
    </td>

    <td align="right">
      <%=h @contig['read_count'] %>
    </td>

    <td>
      <%=h @contig['created'] %>
    </td>

    <td>
      <%=h @contig['updated'] %>
    </td>
 
    <td>
      <%= 
         link_to 'List tags', :instance => params[:instance], :organism => params[:organism],
		:controller => 'contigs',
		:action => 'list_tags', :id => @contig['contig_id']
      %>
    </td>
 
    <td>
      <%= 
         link_to 'Show sequence', :instance => params[:instance], :organism => params[:organism],
		:controller => 'contigs',
		:action => 'show_sequence', :id => @contig['contig_id']
      %>
    </td>
  </tr>
<% end %>
</table>
